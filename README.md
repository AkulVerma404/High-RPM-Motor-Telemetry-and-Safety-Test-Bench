# High-RPM Motor Telemetry and Safety Test Bench
---

## Overview
The Motor Test Bench  is a high-precision diagnostic station built to capture real-time telemetry from motors mounted in a vertical orientation. By utilizing an ESP32 as the central processing unit, the system performs complex sensor fusion to calculate vertical thrust, rotational speed, and electrical efficiency while simultaneously monitoring structural health through high-frequency vibration analysis. The vertical mounting configuration is critical for this project as it allows for the direct measurement of axial force and gravity-related torque, providing a more realistic simulation of drone flight or turbine operation than standard horizontal rigs.

The IoT integration is powered by the Blynk platform, which enables the test bench to function as a remote-access. The ESP32 pushes live sensor data across several virtual pins, including vertical weight from the load cell, motor RPM, peak vibration frequency, and current consumption. This remote monitoring capability is a vital safety feature, allowing the user to observe performance metrics and efficiency maps from a safe distance during high-stress testing. Furthermore, the system is designed with auto-retry logic that checks the status of sensors like the MPU6050 every five seconds; if a sensor fails due to high vibrations or electrical noise, the firmware attempts to re-initialize it automatically to ensure continuous data logging

<p align="center">
  <img src="Front view.jpeg" width="45%" alt="Front View">
</p>
<p align="center">
<em> Front View</em>
</p>

## Purpose of the Project
The goal of this analyzer is to provide a comprehensive health and performance profile for motors that operate at extreme speeds.

* **Efficiency Mapping**: It calculates the ratio between electrical power input and mechanical thrust output to find the motor's "peak efficiency".
* **Vibration Diagnostics**: Using FFT analysis, the system identifies peak vibration frequencies to prevent mechanical resonance failures.
* **Safety Automation**: It acts as a digital watchdog, automatically cutting power via a relay if current or vibration levels become dangerous.
* **Remote Testing**: By using IoT, you can monitor high-RPM tests from a safe distance, reducing the risk associated with mechanical failures during testing.

---

## Components List
| Name | Quantity | Short Description |
| :--- | :---: | :--- |
| **ESP32** | 1 | The main controller handling Wi-Fi, FFT math, and sensor fusion. |
| **MPU6050** | 1 | 6-axis accelerometer used for vibration and peak frequency detection. |
| **HX711 & Load Cell** | 1 | Measures the vertical thrust/weight generated by the motor. |
| **Opto-Interrupter** | 1 | Measures RPM by detecting blades passing through an infrared beam. |
| **ACS712 Sensor** | 1 | Hall-effect sensor used to monitor current draw up to 5A. |
| **Pressure Sensor** | 1 | Used to calculate air velocity and aerodynamic efficiency. |
| **Relay Module** | 1 | The electronic "E-Stop" that disconnects power during safety triggers. |

---

<p align="center">
  <img src="Top-Side view.jpeg" width="45%" alt="Top-Side view">
</p>
<p align="center">
<em> Top-Side view</em>
</p>

## Connections
The wiring is designed to separate high-speed logic from the power-hungry motor components to ensure data integrity.

* **Vibration Mesurement**: The MPU6050 is connected to **GPIO 21 (SDA)** and **GPIO 22 (SCL)**.
* **RPM Input**: The pulse sensor is attached to **GPIO 18** and uses hardware interrupts for accuracy.
* **Load Cell (HX711)**: The data (DOUT) is on **GPIO 25** and the clock (SCK) is on **GPIO 26**.
* **Air Pressure**: Uses **GPIO 27 (SCK)** and **GPIO 14 (OUT)**.
* **Current Monitoring**: The ACS712 analog output is read on **GPIO 34**.
* **Safety Relay**: Triggered via **GPIO 4**.

---

## Working Principle
The system follows a specific logic flow to provide accurate diagnostics while the motor is vertically mounted:

1. **RPM & Thrust**: The ESP32 calculates RPM by measuring the interval between blade detections. Simultaneously, the Load Cell measures the vertical force (thrust) in grams, which is smoothed via a moving average to filter out noise.
2. **Vibration Analysis**: The MPU6050 collects 128 samples of acceleration. The code then runs a Fast Fourier Transform (FFT) to identify the "Major Peak," which represents the primary vibration frequency of the motor.
3. **Aerodynamics**: By reading air pressure and comparing it to ambient density, the system calculates air pressure.
4. **Efficiency Math**: The code calculates efficiency by comparing mechanical output ($Thrust \times Velocity$) against electrical input ($Voltage \times Current$).
5. **Active Safety**: The system continuously checks if the vibration exceeds **6000 Hz** or if the current exceeds **5 Amps** (can be changed accordingly). If these limits are crossed, the relay is immediately triggered to "Danger" mode, shutting down the motor.

---

<p align="center">
  <img src="Anchor Point.jpeg" width="45%" alt="Anchor Point">
</p>
<p align="center">
<em> Anchor Point</em>
</p>

## Blynk IoT Connection
This project is fully integrated with **Blynk IoT** for remote data visualization.

* **Live Telemetry**: Data is pushed to the Blynk app every second, including Weight (V0), RPM (V1), Vibration (V2), Current (V3), Pressure (V4), and Efficiency (V5).
* **E-Stop Status**: Virtual Pin **V6** monitors the safety state; if the system enters a "Danger" state, it reflects on the dashboard immediately.
* **Sensor Resilience**: The firmware includes an auto-retry feature. If a sensor like the MPU6050 fails at startup, the system will attempt to reconnect to it every 5 seconds without needing a full reboot.

---

<p align="center">
  <img src="Blynk dash Board.PNG" width="45%" alt="Blynk dash Board">
</p>
<p align="center">
<em> Blynk dash Board</em>
</p>

## Conclusion
The **Motor Test Bench** is a robust tool that bridges the gap between simple motor testing and professional analysis. By focusing on a vertical mounting setup, it provides unique insights into thrust-to-weight ratios and axial vibration that horizontal benches often miss. With integrated safety protocols and a real-time IoT dashboard, this project ensures that high-speed motor testing is not only informative but also significantly safer.
